<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ex25 - Poupar dinheiro</title>
</head>
<body>
    <h1>Guardar dinheiro</h1>
    Valor guardado <input type="text" id="guardado_ipt"><br>
    valor poupado <input type="text" id="poupado_ipt"><br>
    Quantidade de meses <input type="text" id="qtd_mes_ipt"><br>
    Percentual de juros<input type="text" id="juros_ipt"><br>
    <button onclick="calcular()">Vamos poupar</button><br>
    <div id="exibir"></div>
</body>
</html>
<script>
    function calcular(){
        var guardado = Number(guardado_ipt.value)
        var poupado = Number(poupado_ipt.value)
        var meses = Number(qtd_mes_ipt.value)
        var juros = Number(juros_ipt.value)
        var saldo_inic = 0;
        var cont = 0;
        var juros_tot = 0;

        if(poupado <= 0){
            alert('Se não poupar acima de 0 o valor não muda')
        }else if(meses < 10){
            alert('Quantidade de meses deve ser maior que 10')
        }else if (juros < 0.5 || juros > 2){
            alert('Juros devem estar entre 0,5 e 2')
        }else{
            exibir.innerHTML = '';
        
            while(cont < meses){
                cont ++
                if(cont == 1){
                    saldo_inic = guardado
                    juros_tot += (saldo_inic * juros) / 100
                }else{
                    saldo_inic = saldo_inic + (((saldo_inic * juros) / 100)) + poupado
                    juros_tot += (saldo_inic * juros) / 100
                }
                exibir.innerHTML += `<br>
                Mês ${cont} - <b>saldo_inicial</b> = R$${saldo_inic.toFixed(2)} <b>saldo final</b> = R$${(saldo_final = (saldo_inic + (((saldo_inic * juros) / 100)) + poupado)).toFixed(2)}
                `
                
            }
            exibir.innerHTML += `<br><br>
            Você começou com R$${guardado}<br>
            Depositou R$${meses * poupado}<br>
            E agora você tem: R$${(saldo_final).toFixed(2)}<br>
            Neste período sua conta rendeu R$${(juros_tot).toFixed(2)}<br>
            Sua rentabilidade foi de ${((juros_tot / ((meses * poupado) + guardado)) * 100).toFixed(1)}%
            `
        }
    }
</script>